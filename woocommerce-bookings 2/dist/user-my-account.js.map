{"version":3,"file":"user-my-account.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;;;ACAA,MAAM,+BAA4B;;;ACAlC;AAC4B;AAE5BA,yBAAM,CAAEC,QAAS,CAAC,CAACC,KAAK,CAAE,UAAUC,CAAC,EAAG;EACvC,IAAIC,aAAa,GAAGC,MAAM,CAACC,EAAE,CAACC,KAAK,CAAC,CAAC;EACrC,IAAIC,oBAAoB,GAAG,KAAK;;EAEhC;EACAL,CAAC,CAAE,iBAAkB,CAAC,CAACM,EAAE,CAAE,OAAO,EAAE,UAAU,EAAE,YAAW;IAC1D,OAAOC,MAAM,CAACC,OAAO,CAAEC,kCAAkC,CAACC,mBAAoB,CAAC;EAChF,CAAE,CAAC;;EAEH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,IAAIC,oBAAoB,GAAG,SAAAA,CAAUC,KAAK,EAAEC,OAAO,EAAG;IACrD,IAAIC,eAAe,GAAGd,CAAC,CAAEa,OAAQ,CAAC,CAACE,IAAI,CAAE,UAAW,CAAC;IACrD,IAAIC,WAAW,GAAGhB,CAAC,CAAEa,OAAQ,CAAC,CAACI,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAE5C,IAAKlB,CAAC,CAAEa,OAAQ,CAAC,CAACE,IAAI,CAAE,QAAS,CAAC,KAAK,KAAK,EAAG;MAC9C;MACA;IACD;IAEA,IAAKD,eAAe,KAAKb,aAAa,EAAG;MACxC;IACD;;IAEA;IACA,IAAK,CAAEC,MAAM,CAAEc,WAAW,EAAEP,kCAAkC,CAACU,eAAe,EAAE,IAAK,CAAC,CAACC,OAAO,CAAC,CAAC,EAAG;MAClGpB,CAAC,CAAEa,OAAQ,CAAC,CAACI,IAAI,CAAED,WAAW,GAAG,GAAG,GAAGF,eAAgB,CAAC;MACxDT,oBAAoB,GAAG,IAAI;MAC3B;IACD;IAEA,IAAIgB,aAAa,GAAGnB,MAAM,CAAC;IAAA,CACzBC,EAAE,CAAEa,WAAW,EAAEP,kCAAkC,CAACU,eAAe,EAAEL,eAAgB,CAAC,CACtFX,EAAE,CAAEF,aAAc,CAAC,CACnBqB,MAAM,CAAEb,kCAAkC,CAACU,eAAgB,CAAC;IAE9DnB,CAAC,CAAEa,OAAQ,CAAC,CAACI,IAAI,CAAEI,aAAc,CAAC;EACnC,CAAC;EAED,IAAK,CAAEZ,kCAAkC,CAACc,mBAAmB,EAAG;IAC/D;IACA;EACD;EAEA,IAAK,CAAEtB,aAAa,EAAG;IACtB;IACA;EACD;EAEAD,CAAC,CAAE,sBAAuB,CAAC,CACzBwB,IAAI,CAAE,2BAA4B,CAAC,CACnCC,IAAI,CAAEd,oBAAqB,CAAC;EAE9BX,CAAC,CAAE,sBAAuB,CAAC,CACzBwB,IAAI,CAAE,yBAA0B,CAAC,CACjCC,IAAI,CAAEd,oBAAqB,CAAC;EAE9BX,CAAC,CAAE,4BAA6B,CAAC,CAC/BwB,IAAI,CAAE,8CAA+C,CAAC,CACtDC,IAAI,CAAEd,oBAAqB,CAAC;EAE9BX,CAAC,CAAE,4BAA6B,CAAC,CAC/BwB,IAAI,CAAE,4CAA6C,CAAC,CACpDC,IAAI,CAAEd,oBAAqB,CAAC;;EAE9B;EACA,IAAKN,oBAAoB,EAAG;IAC3BL,CAAC,CAAE,6BAA8B,CAAC,CAChCiB,IAAI,CAAER,kCAAkC,CAACiB,eAAe,GAAG,GAAG,GAAGzB,aAAa,GAAG,GAAI,CAAC,CACtF0B,IAAI,CAAC,CAAC;EACT;AACD,CAAE,CAAC,C","sources":["webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/external window \"jQuery\"","webpack://woocommerce-bookings/./src/js/user-my-account.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","/*global moment, wc_bookings_user_my_account_params*/\nimport jQuery from 'jquery';\n\njQuery( document ).ready( function( $ ) {\n\tvar localTimezone = moment.tz.guess();\n\tvar shouldDisplayNotices = false;\n\n\t// Confirm booking cancellation.\n\t$( '.booking-cancel' ).on( 'click', 'a.cancel', function() {\n\t\treturn window.confirm( wc_bookings_user_my_account_params.cancel_confirmation );\n\t} );\n\n\t/**\n\t * Callback that checks if we should convert or add timezone string to the booking time.\n\t *\n\t * Since admin does not know what timezone the user is in, it is not possible to set a proper\n\t * local timezone for the booking manually create by admin. If timezone conversion is enabled\n\t * and the user timezone is different then admin timezone the user will see wrong start and end times.\n\t *\n\t * Because the booking start and end time are filterable, it's possible for those times to use different\n\t * format. We validate the time and only convert times that use the same format as Bookings is using.\n\t *\n\t * Reference: https://github.com/woocommerce/woocommerce-bookings/issues/2650\n\t *\n\t * @param {element index } index\n\t * @param {jQuery element } element\n\t */\n\tvar maybeConvertDateTime = function( index, element ) {\n\t\tvar elementTimezone = $( element ).data( 'timezone' );\n\t\tvar elementTime = $( element ).text().trim();\n\n\t\tif ( $( element ).data( 'allDay' ) === 'yes' ) {\n\t\t\t// Don't adjust for day availability type events.\n\t\t\treturn;\n\t\t}\n\n\t\tif ( elementTimezone === localTimezone ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If the format is changed, only add timezone string.\n\t\tif ( ! moment( elementTime, wc_bookings_user_my_account_params.datetime_format, true ).isValid() ) {\n\t\t\t$( element ).text( elementTime + ' ' + elementTimezone );\n\t\t\tshouldDisplayNotices = true;\n\t\t\treturn;\n\t\t}\n\n\t\tvar formattedDate = moment // eslint-disable-line vars-on-top\n\t\t\t.tz( elementTime, wc_bookings_user_my_account_params.datetime_format, elementTimezone )\n\t\t\t.tz( localTimezone )\n\t\t\t.format( wc_bookings_user_my_account_params.datetime_format );\n\n\t\t$( element ).text( formattedDate );\n\t};\n\n\tif ( ! wc_bookings_user_my_account_params.timezone_conversion ) {\n\t\t// No conversion necessary, don't adjust the time display.\n\t\treturn;\n\t}\n\n\tif ( ! localTimezone ) {\n\t\t// Local timezone not found. We can't compare the bookings timezone to local - abort!\n\t\treturn;\n\t}\n\n\t$( '.my_account_bookings' )\n\t\t.find( 'tbody .booking-start-date' )\n\t\t.each( maybeConvertDateTime );\n\n\t$( '.my_account_bookings' )\n\t\t.find( 'tbody .booking-end-date' )\n\t\t.each( maybeConvertDateTime );\n\n\t$( '.woocommerce-order-details' )\n\t\t.find( '.wc-booking-summary-list .booking-start-date' )\n\t\t.each( maybeConvertDateTime );\n\n\t$( '.woocommerce-order-details' )\n\t\t.find( '.wc-booking-summary-list .booking-end-date' )\n\t\t.each( maybeConvertDateTime );\n\n\t// Inform user about the display of timezones for some of the items.\n\tif ( shouldDisplayNotices ) {\n\t\t$( '.bookings-my-account-notice' )\n\t\t\t.text( wc_bookings_user_my_account_params.timezone_notice + ' ' + localTimezone + '.' )\n\t\t\t.show();\n\t}\n} );\n"],"names":["jQuery","document","ready","$","localTimezone","moment","tz","guess","shouldDisplayNotices","on","window","confirm","wc_bookings_user_my_account_params","cancel_confirmation","maybeConvertDateTime","index","element","elementTimezone","data","elementTime","text","trim","datetime_format","isValid","formattedDate","format","timezone_conversion","find","each","timezone_notice","show"],"sourceRoot":""}