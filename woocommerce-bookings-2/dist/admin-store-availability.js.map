{"version":3,"file":"admin-store-availability.js","mappings":"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","sources":["webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/external window \"React\"","webpack://woocommerce-bookings/external window [\"wp\",\"element\"]","webpack://woocommerce-bookings/external window \"lodash\"","webpack://woocommerce-bookings/external window [\"wp\",\"components\"]","webpack://woocommerce-bookings/external window [\"wp\",\"i18n\"]","webpack://woocommerce-bookings/external window \"moment\"","webpack://woocommerce-bookings/./src/js/components/store-availability-popover/index.js","webpack://woocommerce-bookings/./src/js/admin-store-availability.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"moment\"];","/**\n * External dependencies\n */\nimport { Button, DatePicker, Popover, SelectControl, TextControl } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport moment from 'moment';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nconst AVAILABILITY_ALL_DAY        = '1';\nconst AVAILABILITY_SPECIFIC_HOURS = '2';\n\nconst DOES_NOT_REPEAT        = '1';\nconst REPEATS_WEEKLY         = '2';\nconst REPEATS_YEARLY         = '3';\nconst REPEATS_SPECIFIC_DAYS  = '4';\nconst REPEATS_SPECIFIC_DATES = '5';\n\nfunction StoreAvailabilityPopover( props ) {\n\tconst [ isPopoverVisible, setPopoverVisible ]               = useState( true );\n\tconst [ startDate, setStartDate ]                           = useState( props.selectedDate || new Date() );\n\tconst [ needsEndDate, setNeedsEndDate ]                     = useState( false );\n\tconst [ endDate, setEndDate ]                               = useState( props.selectedDate || new Date() );\n\tconst [ isDatePickerVisible, setDatePickerVisible ]         = useState( false );\n\tconst [ availabilityTime, setAvailabilityTime ]             = useState( AVAILABILITY_ALL_DAY );\n\tconst [ availabilityTimeFrames, setAvailabilityTimeFrames ] = useState( [ ] );\n\tconst [ frequency, setFrequency ]                           = useState( DOES_NOT_REPEAT );\n\tconst [ repeatDaysOfWeek, setRepeatDaysOfWeek ]             = useState();\n\n\tconst selectedDayOfWeek = moment( props.selectedDate ).format( 'dddd' );\n\tconst selectedDay       = moment( props.selectedDate ).format( 'MMMM D' );\n\n\tfunction popoverContent() {\n\t\treturn ( <div className=\"wb__sap\">\n\t\t\t<h4 className=\"wb__sap__heading\">{ __( 'Edit Availability', 'woocommerce-bookings' ) }</h4>\n\t\t\t<div className=\"wb__sap__start-end-dates wb__sap__row\">\n\t\t\t\t<TextControl className=\"wb__sap__start-date\" label={ __( 'Start Date', 'woocommerce-bookings' ) } onClick={ selectStartDate } value={ formatDate( startDate ) }/>\n\t\t\t\t{ !needsEndDate ? (\n\t\t\t\t\t<span className=\"wb__sap__add-end-date\" onClick={ selectEndDate }>{ __( 'Add end date', 'woocommerce-bookings' ) }</span>\n\t\t\t\t) : (\n\t\t\t\t\t<TextControl className=\"wb__sap__end-date\" label={ __( 'End Date', 'woocommerce-bookings' ) } onClick={ selectEndDate } value={ formatDate( endDate ) }/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"wb__sap__time wb__sap__row\">\n\t\t\t\t<SelectControl label={ __( 'Time', 'woocommerce-bookings' ) } className=\"wb__sap__time-selector\" value={ availabilityTime } onChange={ changeAvailabilityTime } options={\n\t\t\t\t\t[\n\t\t\t\t\t\t{ label: __( 'Available all day', 'woocommerce-bookings' ), value: AVAILABILITY_ALL_DAY },\n\t\t\t\t\t\t{ label: __( 'Available at specific hours', 'woocommerce-bookings' ), value: AVAILABILITY_SPECIFIC_HOURS }\n\t\t\t\t\t]\n\t\t\t\t} />\n\t\t\t\t{ isAvailableAtSpecificHours() && renderTimeFrames( availabilityTimeFrames, setAvailabilityTimeFrames ) }\n\t\t\t</div>\n\t\t\t<div className=\"wb__sap__frequency wb__sap__row\">\n\t\t\t\t<SelectControl label={ __( 'Frequency', 'woocommerce-bookings' ) } className=\"wb__sap__frequency-selector\" value={ frequency } onChange={ changeFrequency } options={\n\t\t\t\t\t[\n\t\t\t\t\t\t{ label:  __( 'Does not repeat', 'woocommerce-bookings' ) , value: DOES_NOT_REPEAT },\n\t\t\t\t\t\t/* translators: %s: day of week */\n\t\t\t\t\t\t{ label:  sprintf( __( 'Every %s', 'woocommerce-bookings' ), selectedDayOfWeek ) , value: REPEATS_WEEKLY },\n\t\t\t\t\t\t/* translators: %s: day of year */\n\t\t\t\t\t\t{ label:  sprintf(  __( 'Anually on %s', 'woocommerce-bookings' ), selectedDay ) , value: REPEATS_YEARLY },\n\t\t\t\t\t\t{ label:  __( 'On specific days of the week', 'woocommerce-bookings' ) , value: REPEATS_SPECIFIC_DAYS },\n\t\t\t\t\t\t{ label:  __( 'On specific dates', 'woocommerce-bookings' ) , value: REPEATS_SPECIFIC_DATES }\n\t\t\t\t\t]\n\t\t\t\t} />\n\t\t\t\t{ doesRepeatSpecificDaysOfWeek() &&\n\t\t\t\t\t<div className=\"wb__sap__frequency-days-of-week wb__sap__row\">\n\t\t\t\t\t\t<span>{ __( 'Repeats on:', 'woocommerce-bookings' ) }</span>\n\t\t\t\t\t\t<ul className=\"wb__sap__days-of-week-selector\">\n\t\t\t\t\t\t\t{ daysOfWeekSelector( changeRepeatDayOfWeek, repeatDaysOfWeek ) }\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"wb__sap__actions wb__sap__row\">\n\t\t\t\t<Button className=\"wb__sap__cancel\" isTertiary isLink onClick={ closePopover }>{ __( 'Cancel', 'woocommerce-bookings' ) }</Button>\n\t\t\t\t<Button className=\"wb__sap__apply\" isDefault isPrimary>{ __( 'Apply', 'woocommerce-bookings' ) }</Button>\n\t\t\t</div>\n\t\t</div> );\n\t}\n\n\tfunction datePicker() {\n\t\treturn (\n\t\t\t<Popover className=\"wb__sap_date-picker\" position=\"middle center\" onClickOutside={ () => setDatePickerVisible( false ) } focusOnMount={ false }>\n\t\t\t\t<DatePicker\n\t\t\t\t\tcurrentDate={ startDate }\n\t\t\t\t\tonChange={ ( date ) => {\n\t\t\t\t\t\tsetDatePickerVisible( false );\n\t\t\t\t\t\tupdateDate( date )\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</Popover>\n\t\t);\n\t}\n\n\tfunction selectStartDate() {\n\t\tsetDatePickerVisible( !isDatePickerVisible )\n\t\tupdateDate = setStartDate;\n\t}\n\n\tfunction selectEndDate() {\n\t\tsetNeedsEndDate( true );\n\t\tsetDatePickerVisible( !isDatePickerVisible )\n\t\tupdateDate = setEndDate;\n\t}\n\n\tfunction changeAvailabilityTime( newAvailabilityTime ) {\n\t\tsetAvailabilityTime( newAvailabilityTime );\n\t\tif ( availabilityTimeFrames.length === 0 ) {\n\t\t\tavailabilityTimeFrames.push( [ '0', '0' ] );\n\t\t\tsetAvailabilityTimeFrames( availabilityTimeFrames );\n\t\t}\n\t}\n\n\tfunction isAvailableAtSpecificHours() {\n\t\treturn availabilityTime === AVAILABILITY_SPECIFIC_HOURS;\n\t}\n\n\tfunction changeFrequency( newFrequency ) {\n\t\tsetFrequency( newFrequency );\n\t}\n\n\tfunction doesRepeatSpecificDaysOfWeek() {\n\t\treturn frequency === REPEATS_SPECIFIC_DAYS;\n\t}\n\n\tfunction changeRepeatDayOfWeek( event ) {\n\t\tconst dayOfWeek = parseInt(event.target.value);\n\t\tlet selectedDays = repeatDaysOfWeek || [];\n\t\tif ( !selectedDays.includes( dayOfWeek ) ) {\n\t\t\tselectedDays.push( dayOfWeek );\n\t\t} else {\n\t\t\tselectedDays = selectedDays.filter( day => day !== dayOfWeek );\n\t\t}\n\n\t\tsetRepeatDaysOfWeek( selectedDays.slice() );\n\t}\n\n\tfunction closePopover() {\n\t\tif ( ! isDatePickerVisible ) {\n\t\t\tsetPopoverVisible( false );\n\t\t}\n\t}\n\n\treturn (\n\t\tisPopoverVisible && <div className=\"wb__sap__container\">\n\t\t\t<Popover position=\"middle center\" onClickOutside={ closePopover } focusOnMount={ false }>\n\t\t\t\t{ popoverContent() }\n\t\t\t</Popover>\n\t\t\t{ isDatePickerVisible && datePicker() }\n\t\t</div>\n\t);\n}\n\nfunction formatDate( date ) {\n\treturn moment( date ).format( 'MMM DD, YYYY' );\n}\n\nfunction renderTimeFrames( availabilityTimeFrames, setAvailabilityTimeFrames ) {\n\tconst timeFrames = []\n\tfunction changeTimeFrame( timeFrameIndex, comboIndex ) {\n\t\treturn function( newTime ) {\n\t\t\tavailabilityTimeFrames[ timeFrameIndex ][ comboIndex ] = newTime;\n\n\t\t\tsetAvailabilityTimeFrames( availabilityTimeFrames.slice() );\n\t\t}\n\t}\n\n\tfunction addAnotherTimeFrame() {\n\t\tavailabilityTimeFrames.push( [ '0', '0' ] );\n\t\tsetAvailabilityTimeFrames( availabilityTimeFrames.slice() );\n\t}\n\n\tfor (var timeFrameIndex = 0; timeFrameIndex < availabilityTimeFrames.length; timeFrameIndex++) {\n\t\tconst timeFrame = (\n\t\t\t<div key={ timeFrameIndex } className=\"wb__sap__time-frame wb__sap__row\">\n\t\t\t\t{ hoursOfDayCombo( availabilityTimeFrames[timeFrameIndex][0], changeTimeFrame(timeFrameIndex, 0), timeFrameIndex, 0) }\n\t\t\t\t<span>â€”</span>\n\t\t\t\t{ hoursOfDayCombo( availabilityTimeFrames[timeFrameIndex][1], changeTimeFrame(timeFrameIndex, 1), timeFrameIndex, 1) }\n\t\t\t</div> );\n\t\ttimeFrames.push( timeFrame );\n\t}\n\ttimeFrames.push( <div key=\"add-more-times\" className=\"wb__sap__add-new-time-frame\" onClick={ addAnotherTimeFrame }>{ __( 'Add more times', 'woocommerce-bookings' ) }</div> );\n\n\treturn timeFrames;\n}\n\nfunction hoursOfDayCombo( selectedTime, updateSelectedTime, timeFrameIndex, selectIndex ) {\n\tconst options = [];\n\tfor (var hour = 0; hour < 24; hour++) {\n\t\toptions.push(\n\t\t\t{ label:  moment().startOf( 'day' ).add( hour, 'hour' ).format( 'h:mma' ) , value: hour }\n\t\t);\n\t}\n\n\treturn (\n\t\t<SelectControl key={ `${timeFrameIndex}-${selectIndex}` } value={ selectedTime } onChange={ updateSelectedTime } className=\"wb__sap__time-frame-hours-selector\" options={ options } />\n\t);\n}\n\nfunction daysOfWeekSelector( changeRepeatDayOfWeek, repeatDaysOfWeek ) {\n\tconst daysOfWeek = [];\n\tfor ( var dayIndex = 0; dayIndex < 7; dayIndex ++ ) {\n\t\tconst day = moment().startOf( 'week' ).add( dayIndex, 'days' )\n\t\tconst dayOfWeek = day.weekday();\n\t\tconst dayName = day.format( 'dd' );\n\t\tconst selected = ( repeatDaysOfWeek || [] ).includes( dayOfWeek );\n\t\tconst classNames = [ 'wb__sap__day-of-week-button' ]\n\t\tif ( selected ) { classNames.push( 'selected' ); }\n\n\t\tdaysOfWeek.push(\n\t\t\t<li key={ dayIndex }>\n\t\t\t\t<button className={ classNames.join( ' ' ) } onClick={ changeRepeatDayOfWeek } value={ dayOfWeek } data-day={ dayName }>{ dayName }</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\treturn daysOfWeek;\n}\n\nexport default StoreAvailabilityPopover;\n","/* globals: wc_bookings_admin_calendar_js_params */\n\n/**\n * External dependencies\n */\nimport { render } from '@wordpress/element';\nimport { forEach } from 'lodash';\n\n/**\n * Internal dependencies.\n */\nimport StoreAvailabilityPopover from './components/store-availability-popover';\n\nlet popoverContainer;\n\nconst storeAvailabilityDays = document.getElementsByClassName( 'wc-bookings__store-availability-day' );\n\nif ( null !== storeAvailabilityDays ) {\n\tforEach( storeAvailabilityDays, ( storeAvailabilityDay ) => {\n\t\tstoreAvailabilityDay.addEventListener( 'click', () => {\n\t\t\tconst date = new Date( parseInt( storeAvailabilityDay.dataset.timestamp ) * 1000 /* to milliseconds */ );\n\n\t\t\tif ( popoverContainer ) {\n\t\t\t\tdocument.body.removeChild( popoverContainer );\n\t\t\t}\n \t \t \tpopoverContainer = document.createElement( 'div' );\n\t\t\tdocument.body.appendChild( popoverContainer );\n\n\t\t\trender(<StoreAvailabilityPopover selectedDate={ date }/>, popoverContainer);\n\t\t} );\n\t} )\n}\n"],"names":["Button","DatePicker","Popover","SelectControl","TextControl","__","sprintf","useState","moment","AVAILABILITY_ALL_DAY","AVAILABILITY_SPECIFIC_HOURS","DOES_NOT_REPEAT","REPEATS_WEEKLY","REPEATS_YEARLY","REPEATS_SPECIFIC_DAYS","REPEATS_SPECIFIC_DATES","StoreAvailabilityPopover","props","isPopoverVisible","setPopoverVisible","startDate","setStartDate","selectedDate","Date","needsEndDate","setNeedsEndDate","endDate","setEndDate","isDatePickerVisible","setDatePickerVisible","availabilityTime","setAvailabilityTime","availabilityTimeFrames","setAvailabilityTimeFrames","frequency","setFrequency","repeatDaysOfWeek","setRepeatDaysOfWeek","selectedDayOfWeek","format","selectedDay","popoverContent","createElement","className","label","onClick","selectStartDate","value","formatDate","selectEndDate","onChange","changeAvailabilityTime","options","isAvailableAtSpecificHours","renderTimeFrames","changeFrequency","doesRepeatSpecificDaysOfWeek","daysOfWeekSelector","changeRepeatDayOfWeek","isTertiary","isLink","closePopover","isDefault","isPrimary","datePicker","position","onClickOutside","focusOnMount","currentDate","date","updateDate","newAvailabilityTime","length","push","newFrequency","event","dayOfWeek","parseInt","target","selectedDays","includes","filter","day","slice","timeFrames","changeTimeFrame","timeFrameIndex","comboIndex","newTime","addAnotherTimeFrame","timeFrame","key","hoursOfDayCombo","selectedTime","updateSelectedTime","selectIndex","hour","startOf","add","daysOfWeek","dayIndex","weekday","dayName","selected","classNames","join","render","forEach","popoverContainer","storeAvailabilityDays","document","getElementsByClassName","storeAvailabilityDay","addEventListener","dataset","timestamp","body","removeChild","appendChild"],"sourceRoot":""}