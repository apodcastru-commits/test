{"version":3,"file":"admin-calendar.js","mappings":"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","sources":["webpack://woocommerce-bookings/./src/js/admin-calendar-layout.js","webpack://woocommerce-bookings/external window \"jQuery\"","webpack://woocommerce-bookings/./src/js/admin-calendar.js","webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/webpack/before-startup","webpack://woocommerce-bookings/webpack/startup","webpack://woocommerce-bookings/webpack/after-startup"],"sourcesContent":["let processLayout = function( input, maxHeight, maxWidth ) {\n\tlet tree = [ {\n\t\tid: 'root',\n\t\tstart: 0,\n\t\tend: maxHeight,\n\t\tdepth: -1,\n\t\tchildren: [],\n\t} ];\n\n\t// Siblings container wrapper, for more performant BFT\n\tlet siblingIndex = {\n\t\tindex: {},\n\n\t\tclear: function() {\n\t\t\tthis.index = {};\n\t\t},\n\n\t\tadd: function( node ) {\n\t\t\tlet level = this.index[ node.depth ] || ( this.index[ node.depth ] = [] );\n\t\t\tlevel.push( node );\n\t\t},\n\n\t\tget: function( depth ) {\n\t\t\treturn this.index[ depth ] || [];\n\t\t}\n\t};\n\n\t// Add a new node to the tree, while maintaining siblings index\n\tfunction append( node, item, depth ) {\n\t\titem.depth = depth+1;\n\t\tsiblingIndex.add( item );\n\t\tnode.children.push( item );\n\t\titem.parent = node;\n\t\ttree.push( item );\n\t}\n\n\t// Predicate for checking if two events overlap\n\tfunction overlaps( node, item ) {\n\t\t/*eslint-disable */\n\t\treturn ( item.start >= node.start && item.start < node.end )\n\t\t\t\t|| ( ( node.start == item.start ) || ( node.end == item.end ) );\n\t\t/*eslint-enable */\n\t}\n\n\t// returns true on successful tree placement\n\tfunction traverse( node, item, depth ) {\n\t\tif ( ! overlaps( node, item ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Run BFT on siblings to check if there are any overlaps\n\t\tlet list = siblingIndex.get( depth + 1 );\n\n\t\tfor ( let key in list ) {\n\t\t\tif ( traverse( list[ key ], item, depth + 1 ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// If there's an overlap, append the item under the current node\n\t\tappend( node, item, depth );\n\n\t\treturn true;\n\t}\n\n\t// Find max depth for each tree branch\n\tfunction setMaxDepth() {\n\t\t// Visit and set maxDepth on all of node's children\n\t\tlet setChildren = function( node, depth ) {\n\t\t\tnode.maxDepth = depth;\n\t\t\tnode.children.forEach( function( child ) {\n\t\t\t\tsetChildren( child, depth );\n\t\t\t} );\n\t\t};\n\n\t\t// Only need the leaves from the lookup table\n\t\tlet leaves = tree.filter( function( node ) {\n\t\t\treturn node.children.length === 0;\n\t\t} );\n\n\t\t// Visit every leaf, find maxDepth, reach root and update the roots (root index)\n\t\tlet roots = {}, currentRoot;\n\t\tleaves.forEach( function( leaf ) {\n\t\t\tlet node = leaf, maxDepth = 0;\n\n\t\t\twhile ( 1 ) {\n\t\t\t\tmaxDepth = Math.max( maxDepth, node.depth );\n\n\t\t\t\tif ( node.parent && node.parent.depth >= 0 ) {\n\t\t\t\t\tnode = node.parent;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentRoot = roots[ node.id ] || ( roots[ node.id ] = node );\n\t\t\t\t\tcurrentRoot.maxDepth = Math.max( currentRoot.maxDepth, maxDepth );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Traverse children (DFT)\n\t\tfor ( let rootId in roots ) {\n\t\t\tsetChildren( roots[ rootId ], roots[ rootId ].maxDepth );\n\t\t}\n\t\ttree.forEach( function( leaf ) {\n\t\t\tlet nextDepth = leaf.maxDepth+1;\n\t\t\tlet siblings  = siblingIndex.get( nextDepth );\n\t\t\twhile ( siblings.length > 0 ) {\n\t\t\t\tfor( let index in siblings ) {\n\t\t\t\t\tif ( overlaps( siblings[ index ], leaf ) ) {\n\t\t\t\t\t\tleaf.maxDepth = Math.max( leaf.maxDepth, siblings[ index ].maxDepth );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsiblings = siblingIndex.get( ++nextDepth );\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Set widths for each node\n\tfunction setWidths() {\n\n\t\t// Calculate max depth first.\n\t\tsetMaxDepth();\n\n\t\t// Then calculate and set width for each node\n\t\ttree.forEach( function( node ) {\n\t\t\tnode.width = maxWidth / ( node.maxDepth+1 );\n\t\t} );\n\t}\n\n\t// Format lookup table for result\n\t// eslint-disable-next-line\n\tfunction format( tree ) {\n\t\t// eslint-disable-next-line\n\t\treturn tree.map( function( node ) {\n\t\t\treturn {\n\t\t\t\tid: node.id,\n\t\t\t\ttop: node.start,\n\t\t\t\tleft: node.width * node.depth,\n\t\t\t\twidth: node.width,\n\t\t\t\theight: node.height\n\t\t\t};\n\t\t} );\n\t}\n\n\tsiblingIndex.clear();\n\n\t// Fill in helpers.\n\tinput = input.map( function( node ) {\n\t\t// Make sure height is at least 15 pixels. Otherwise, adjust `end`\n\t\t// for proper calculations to account for it.\n\t\tif ( ( node.end - node.start ) < 22 ) {\n\t\t\tnode.end = node.start + 22;\n\t\t}\n\n\t\treturn {\n\t\t\tid: node.id,\n\t\t\tstart: node.start,\n\t\t\tend: node.end,\n\t\t\theight: node.end - node.start,\n\t\t\twidth: 0,\n\t\t\tchildren: [],\n\t\t\tdepth: 0,\n\t\t\tmaxDepth: 0\n\t\t};\n\t} ).sort( function( a, b ) {\n\t\t// Sort by start time, then length\n\t\treturn a.start === b.start ? b.end - a.end : a.start - b.start;\n\t} );\n\n\tlet root = tree[0];\n\n\tinput.forEach( function( item ) {\n\t\ttraverse( root, item, -1 );\n\t} );\n\n\tsetWidths();\n\ttree.shift();\n\n\treturn tree.map( function( node ) {\n\t\treturn {\n\t\t\tid: node.id,\n\t\t\ttop: node.start,\n\t\t\tleft: node.width * node.depth,\n\t\t\twidth: node.width,\n\t\t\theight: node.height\n\t\t};\n\t} );\n};\n\nmodule.exports.processLayout = processLayout;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","/**\n * External dependencies\n */\nimport jQuery from 'jquery';\n\n/**\n * Internal dependencies\n */\nimport { processLayout } from './admin-calendar-layout.js';\n\n/**\n * Popper implementation\n */\njQuery( function( $ ) {\n\t/**\n\t * Scrolls to first booking on day view.\n\t *\n\t * @since 1.13.0\n\t */\n\t function scrollToFirstBooking() {\n\t\t// Day view and atleast one booking.\n\t\tif ( $( '.calendar_days' ).length && $( '.daily_view_booking' ).length ) {\n\t\t\tlet previousStartValue,\n\t\t\t\tsmallestStartValueIndex;\n\n\t\t\t// Gather all start values.\n\t\t\t$( '.daily_view_booking' ).each( function( index ) {\n\t\t\t\tlet currentStartValue = parseInt( $( this ).data( 'bookingStart' ), 10 );\n\n\t\t\t\tif ( 'undefined' === typeof previousStartValue ) {\n\t\t\t\t\tpreviousStartValue = currentStartValue;\n\t\t\t\t}\n\n\t\t\t\tif ( currentStartValue <= previousStartValue ) {\n\t\t\t\t\tsmallestStartValueIndex = index;\n\t\t\t\t}\n\n\t\t\t\tpreviousStartValue = currentStartValue;\n\t\t\t} );\n\n\t\t\t/*\n\t\t\t * Keep running at interval until first booking\n\t\t\t * offset is found to prevent race condition.\n\t\t\t */\n\t\t\tlet findFirstBooking = setInterval( function() {\n\t\t\t\tlet firstBookingTopOffset = parseInt( $( '.daily_view_booking' ).eq( smallestStartValueIndex ).offset().top, 10 );\n\n\t\t\t\tif ( firstBookingTopOffset > 0 ) {\n\t\t\t\t\t$( 'html, body' ).animate( {\n\t\t\t\t\t\tscrollTop: firstBookingTopOffset - 110\n\t\t\t\t\t}, 600 );\n\n\t\t\t\t\tclearInterval( findFirstBooking );\n\n\t\t\t\t}\n\t\t\t}, 100 );\n\n\t\t\t/*\n\t\t\t * Fallback timeout after 5 seconds to\n\t\t\t * clear the interval so it doesn't continue\n\t\t\t * running indefinitely.\n\t\t\t */\n\t\t\tsetTimeout( function() {\n\t\t\t\tclearInterval( findFirstBooking );\n\t\t\t}, 5000 );\n\t\t}\n\t}\n\n\t/*\n\t* Add select class on mouseenter and mouseleave events for each event with the same\n\t* event( Bookings booking or Google Calendar event ) ID\n\t*/\n\t$('.calendar_month_event').on(\n\t\t'mouseenter',\n\t\tfunction() {\n\t\t\tlet id = this.dataset[\"id\"];\n\t\t\tlet id_class = '.calendar_event_id_' + id;\n\t\t\t$( id_class ).find( 'a.wc-bookings-event-link' ).addClass(\"calendar_month_event_selected\");\n\t\t}\n\t).on(\n\t\t'mouseleave',\n\t\tfunction() {\n\t\t\tlet id = this.dataset[\"id\"];\n\t\t\tlet id_class = '.calendar_event_id_' + id;\n\t\t\t$( id_class ).find( 'a.wc-bookings-event-link' ).removeClass(\"calendar_month_event_selected\");\n\t\t},\n\t);\n\n\tlet input = $.map( $( '.daily_view_booking' ), function ( el ) {\n\t\treturn {\n\t\t\tid: $( el ).data( 'bookingId' ),\n\t\t\tstart: $( el ).data( 'bookingStart' ),\n\t\t\tend: $( el ).data( 'bookingEnd' ),\n\t\t};\n    } );\n\n    let totalCalendarHeight = 1968; // definded by design\n    let calendarHeightInMinutes = 1440; // 60 minutes * 24 hours\n    let scale = totalCalendarHeight / calendarHeightInMinutes;\n\n\tprocessLayout( input, 1968, 100 ).forEach( function( node ) {\n\t\tlet $el = $('*[data-booking-id=\"' + node.id + '\"]');\n\n        $el.css( { 'top':  'calc(' + node.top * scale + 'px + 2px )' } );\n\t\t$el.css( { 'height': 'calc(' + node.height * scale +'px - 3px )' } );\n\t\t$el.css( 'left', node.left + '%' );\n\t\t// 12px come from the popper padding\n\t\t$el.css( { 'width': 'calc(' + node.width + '% - 13px )' } );\n\t\t$el.show();\n\t}, scrollToFirstBooking() );\n\n\tlet global_availability = $.map( $( '.daily_view_global_availabiltiy' ), function ( el ) {\n\t\treturn {\n\t\t\tstart: $( el ).data( 'start' ),\n\t\t\tend: $( el ).data( 'end' ),\n\t\t\tid: $ (el ).data( 'globalAvailabilityId' ),\n\t\t};\n\t});\n\n\tglobal_availability.forEach( function ( range ) {\n\t\tlet $el = $( '*[data-global-availability-id=\"' + range.id + '\"]' );\n\t\t$el.css({ 'top': 'calc(' + range.start * scale + 'px )' });\n\t\t$el.css({ 'height': 'calc(' + (range.end - range.start) * scale + 'px )' });\n\t\t$el.css( 'left', '-43px' );\n\t\t$el.css({ 'width': 'calc(' + '100' + '% + 50px )' });\n\t\t$el.show();\n\t});\n\n\t$( '.daily_view_booking' )\n\t\t.each( function( index, el ) {\n\t\t\tlet $el = $( el );\n\n\t\t\t// Account for the padding in the CSS\n\t\t\t$el.height( $el.height() - 12 );\n\t\t} );\n\n\t// Scroll to today on schedule view.\n\t$( document ).ready( function() {\n\t\tconst $today_el = $( '.wc-bookings-schedule-date.wc-booking-schedule-today' );\n\t\tif ( $today_el.length ) {\n\t\t\tconst today_offset = parseInt( $today_el.offset().top, 10 );\n\t\t\t$( 'html, body' ).animate( {\n\t\t\t\tscrollTop: today_offset - 101, // today field/row height offset + floating header height\n\t\t\t}, 600 );\n\t\t}\n\t} );\n} );\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","","// startup\n// Load entry module and return exports\n__webpack_require__(415);\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(231);\n",""],"names":["processLayout","input","maxHeight","maxWidth","tree","id","start","end","depth","children","siblingIndex","index","clear","add","node","level","push","get","append","item","parent","overlaps","traverse","list","key","setMaxDepth","setChildren","maxDepth","forEach","child","leaves","filter","length","roots","currentRoot","leaf","Math","max","rootId","nextDepth","siblings","setWidths","width","format","map","top","left","height","sort","a","b","root","shift","module","exports","jQuery","$","scrollToFirstBooking","previousStartValue","smallestStartValueIndex","each","currentStartValue","parseInt","data","findFirstBooking","setInterval","firstBookingTopOffset","eq","offset","animate","scrollTop","clearInterval","setTimeout","on","dataset","id_class","find","addClass","removeClass","el","totalCalendarHeight","calendarHeightInMinutes","scale","$el","css","show","global_availability","range","document","ready","$today_el","today_offset"],"sourceRoot":""}