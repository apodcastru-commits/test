{"version":3,"file":"admin-edit-booking.js","mappings":"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","sources":["webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/external window [\"wp\",\"i18n\"]","webpack://woocommerce-bookings/external window \"jQuery\"","webpack://woocommerce-bookings/external window \"moment\"","webpack://woocommerce-bookings/./src/js/admin-edit-booking.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"moment\"];","// External dependencies.\nimport { __ } from '@wordpress/i18n';\nimport jQuery from 'jquery';\nimport moment from 'moment';\n\n( function( $ ) {\n\n\t/**\n\t * When Document is ready.\n\t */\n\t$( document ).ready( function() {\n\t\t// When a confirm link clicked from email, show dialog and trigger change.\n\t\tif ( 'true' === new URLSearchParams( window.location.href ).get( 'confirm' )\n\t\t\t&& 'confirmed' !== $( '#_booking_status' ).val()\n\t\t\t&& confirm( __( 'Confirm the booking?' , 'woocommerce-bookings' ) ) ) {\n\t\t\t\t$(' #_booking_status' ).val( 'confirmed' );\n\t\t\t\t$(' #post' ).submit();\n\t\t}\n\t});\n\n\t/**\n\t * Returns true if the date string is of the format\n\t * yyyy-mm-dd, false otherwise.\n\t *\n\t * @param {string} dateString Date string.\n\t * @return {boolean} date string is of a valid format or not.\n\t */\n\tfunction isDateValidFormat( dateString = false ) {\n\t\tif ( false === dateString ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn moment( dateString, 'YYYY-MM-DD', true ).isValid();\n\t}\n\n\t/**\n\t * Returns true if the end date is before start date,\n\t * false otherwise.\n\t *\n\t * @param {string} startDate The start date string\n\t * @param {string} endDate The end date string\n\t * @return {boolean} the end date is before start date or not.\n\t */\n\tfunction isEndDateBeforeStartDate( startDate = '', endDate = '' ) {\n\t\tif ( 0 === startDate.length || 0 === endDate.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! moment( endDate ).isBefore( startDate );\n\t}\n\n\t/**\n\t * Renders the error message.\n\t *\n\t * @param {string} errorMessage The error message to be rendered.\n\t */\n\tfunction renderError( errorMessage = '' ) {\n\t\tif ( 0 === errorMessage.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\talert( errorMessage ); // eslint-disable-line\n\t}\n\n\t/**\n\t * Client-side validation to check if start and end dates in\n\t * Bookings > Add/Edit Booking is of the format yyyy-mm-dd.\n\t *\n\t * Prevents submission and displays error if the format is\n\t * otherwise.\n\t */\n\tconst saveBookingBtn = $( '#woocommerce-booking-save input[name=\"save\"]' );\n\n\tsaveBookingBtn.on( 'click', function( e ) {\n\t\tconst startDateEl = $( '#booking_start_date' );\n\t\tconst endDateEl = $( '#booking_end_date' );\n\t\tconst startDateValue = startDateEl.val();\n\t\tconst endDateValue = endDateEl.val();\n\n\t\tif ( ! ( isDateValidFormat( startDateValue ) && isDateValidFormat( endDateValue ) ) ) {\n\t\t\te.preventDefault();\n\t\t\trenderError( wc_bookings_admin_edit_booking_params.invalid_start_end_date );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isDateValidFormat( startDateValue ) && isDateValidFormat( endDateValue ) && ! isEndDateBeforeStartDate( startDateValue, endDateValue ) ) {\n\t\t\te.preventDefault();\n\t\t\trenderError( wc_bookings_admin_edit_booking_params.date_range_invalid );\n\t\t}\n\t} );\n}( jQuery ) );\n"],"names":["__","jQuery","moment","$","document","ready","URLSearchParams","window","location","href","get","val","confirm","submit","isDateValidFormat","dateString","isValid","isEndDateBeforeStartDate","startDate","endDate","length","isBefore","renderError","errorMessage","alert","saveBookingBtn","on","e","startDateEl","endDateEl","startDateValue","endDateValue","preventDefault","wc_bookings_admin_edit_booking_params","invalid_start_end_date","date_range_invalid"],"sourceRoot":""}